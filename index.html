<!DOCTYPE html>
<html ng-app='AngularApp'>

<head>
    <link rel="stylesheet" href="css/pure-min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link href='http://fonts.googleapis.com/css?family=Comfortaa' rel='stylesheet' type='text/css'>
</head>
<title>Karim Tabet | Professional Software Wizardry</title>
<body>
    <!-- Navigation -->
    <div id="nav">
        <img id ="avatar" src="img/avatar.png">
        <h1>Karim Tabet</h1>
        <h2>Freelance developer, designer and proud lover of all things open-source</h2>
        <ul>
            <li class="nav_button selected" id="button_1"><div>Blog</li>
            <li class="nav_button" id="button_2">Web</li>
            <li class="nav_button" id="button_3">Flash</li>
            <li class="nav_button" id="button_4">Code</li>
            <li class="nav_button" id="button_5">Design</li>
            <li class="nav_button" id="button_6">Photography</li>
            <li class="nav_button" id="button_7">R&eacute;sum&eacute;</li>
            <li class="nav_button" id="button_8">Contact</li>
        <ul>
    </div>

    <!-- Blog Page -->
    <div id="blog_page" class="page_container current" ng-controller='bloggerController'>
        <h1>BLOG COMING SOON!</h1>
    </div>

    <!-- Web Showcase Page -->
    <div id="web_page" class="page_container" >
        <h1>WEB SHOWCASE COMING SOON!</h1>
    </div>

    <!-- Flash Showcase Page -->
    <div id="flash_page" class="page_container" ng-controller='swfController'>
        <div class="page_icon">
            <img src="img/swf-icon.svg" height="50px">
        </div>
        <div class="page_title">
            <h1>Flash Showcase</h1>
        </div>
        <div id="swf_container">
            <div class="swf_item" ng-repeat="swf in swfList.slice(0,3)">
                <a href="{{swf.newgrounds_url}}">
                    <img src="{{swf.img}}"/>
                    <h2>{{swf.full_name}}</h2>
                    <h2 class="swf_date">{{swf.date}}</h2>
                </a>
                <div id="{{swf.modal_id}}" class="modal_content">
                    <embed src="{{swf.path}}" width="{{swf.width}}" height="{{swf.height}}"> 
                </div>
            </div>
            <div class="swf_item" ng-repeat="swf in swfList.slice(3,5)">
                <a href="{{swf.newgrounds_url}}">
                    <img src="{{swf.img}}"/>
                    <h2>{{swf.full_name}}</h2>
                    <h2 class="swf_date">{{swf.date}}</h2>
                </a>
                <div id="{{swf.modal_id}}" class="modal_content">
                    <embed src="{{swf.path}}" width="{{swf.width}}" height="{{swf.height}}"> 
                </div>
            </div>
        </div>
    </div>

    <!-- Code Repos Page -->
    <div id="code_page" class="page_container" ng-controller='githubController'>
        <div class="page_icon">
            <img src="img/code-icon.svg" height="50px">
        </div>
        <div class="page_title">
            <h1>Public Code Repositories</h1>
           <!--  <a href="http://github.com/karimtabet" target="_blank"><h2>http://github.com/karimtabet</h2></a> -->
        </div>
        <div id="github_repos" class="site_heading site_content_table">
            <div class="page_icon">
            <img src="img/github-circled.svg" height="30px">
        </div>
            <h2>Github Repositories</h2>
            <div ng-repeat="repo in githubRepoList">
                <div class="item_stats">
                    {{repo.language}}
                    <a title="Stargazers" href="{{repo.stargazers_url}}" target="_blank">
                        <i class="fa fa-star"></i>{{repo.stargazers_count}}
                    </a>
                    <a title="Forks" href="{{forks_url}}" target="_blank">
                        <i class="fa fa-code-fork"></i>{{repo.forks_count}}
                    </a>
                </div>
                <div id="repo_item_h1">
                    <a href="{{repo.html_url}}" target="_blank">{{repo.full_name}}</a>
                </div>
                <div id="repo_description">
                    {{repo.description}}
                </div>
            </div>
        </div>
    </div>

    <!-- Initialise JQuery -->
    <script src="js/jquery-1.11.1.min.js" type="text/javascript"></script>
    
    <!-- Navigation JQuery -->
    <script>
        $('.nav_button').click(function() {
            $('.page_container').fadeOut("fast");
            var page_to_open = 
                "#" 
                + $(this).text().toLowerCase() 
                + "_page";
            var background_colour = ($(this).css('backgroundColor'));
            $(page_to_open).delay('300').fadeIn("slow");
            $('.nav_button').removeClass('selected');
            $('.nav_button').css('background', 'none');
            $(this).addClass('selected');
            $(this).css('background', background_colour);
        });
    </script>

    <!-- Initialise 3rd party JS plugins -->
    <script src="js/jquery.simplemodal.min.js" type="text/javascript"></script>

    <!-- Initialise Angular  -->
    <script type="text/javascript" src="js/angular.min.js"></script>
    <script type="text/javascript" src="js/angular-app/app.js"></script>
    <script type="text/javascript" src="js/angular-app/controllers/githubController.js"></script>
    <script type="text/javascript" src="js/angular-app/controllers/swfController.js"></script>
    <script type="text/javascript" src="js/angular-app/controllers/bloggerController.js"></script>
    <script>
        $(document).on("click", ".swf_item", function() {
            var modal_id = '#' + $(this).find(".modal_content").attr('id');
            $(modal_id).modal({
                onOpen: function (dialog) {
                    dialog.overlay.fadeIn('medium');
                    dialog.data.slideDown('fast');
                    dialog.container.slideDown('fast');
                },
                onClose: function(dialog) {
                    dialog.data.slideDown('fast');
                    dialog.container.slideDown('fast');
                    dialog.overlay.fadeOut('medium', function () {
                        $.modal.close(); // must call this!
                    });
                },
                autoResize:true,
                overlayClose:true
            });
        });
    </script>

    <!-- Google Analytics tracking code -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-52089818-1', 'karimtabet.com');
        ga('send', 'pageview');

    </script>
</body>